@{
    ViewData["Title"] = "OTP Page";
    var address = TempData["UserAddress"] as string ?? "";
}
<div class="container">
    <div class="row">
        <div class="col-lg-3"></div>
        <div class="row rowFormAddress col-lg-6">
            <div class="col-lg-2"></div>
            <div class="col-lg-8">
                <form id="OTPForm" class="formAddress" asp-action="OTP" asp-controller="ChangeInformation" method="post">
                    <h1>Xác thực OTP</h1>
                    <p>OTP</p>
                    <input class="ipAddress" type="text" name="otp" placeholder="Nhập OTP tại đây">

                    <!-- Hidden fields to pass TempData values -->
                    <input type="hidden" name="username" value="@TempData["UserUsername"]" />
                    <input type="hidden" name="password" value="@TempData["UserPassword"]" />
                    <input type="hidden" name="address" value="@address" />
                    <input type="hidden" name="gmail" value="@TempData["UserGmail"]" />
                    <input type="hidden" id="formAction" name="username" value="@TempData["UserAction"]" />

                    <div class="addressBtn">
                        <button type="submit" class="btnAddress">Xác nhận</button>
                    </div>
                </form>
            </div>
            <div class="col-lg-2"></div>
        </div>
        <div class="col-lg-3"></div>
    </div>
</div>

<script>
    function submitForm() { 
        var form = document.getElementById('OTPForm');
        var field1Value = document.getElementById('formAction').value;

        if (field1Value == "Register") {
            form.action = "/Register/OTP";
        } else if (field1Value == "ChangeInformation") { 
            form.action = "/Information/OTP";
        }
    }
</script>
